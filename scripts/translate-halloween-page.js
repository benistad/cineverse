/**
 * Script pour traduire automatiquement le contenu de la page Halloween avec DeepL
 * Usage: node scripts/translate-halloween-page.js
 */

import 'dotenv/config';
import { translateText } from '../src/lib/translation/deepl.js';

// Contenu fran√ßais √† traduire
const frenchContent = {
  films: [
    {
      title: "Funny Games US",
      category: "Le coup de ma√Ætre",
      description: "Si vous cherchez un film qui vous laisse sans voix, Funny Games US est incontournable. Brutal, d√©rangeant et sans concession, il bouleverse tous les codes du cin√©ma d'horreur. Avec sa note parfaite de 10/10, c'est le choix ultime pour un Halloween qui reste grav√© dans la m√©moire."
    },
    {
      title: "Destination Finale : Bloodlines",
      category: "Les sensations fortes",
      description: "Un retour r√©ussi de la saga culte, avec toujours cette m√©canique implacable o√π le destin frappe de mani√®re inventive et sanglante."
    },
    {
      title: "Until Dawn : La Mort sans fin",
      category: "Les sensations fortes",
      description: "Inspir√© de l'univers vid√©oludique, ce film mise sur l'immersion et la tension. Une exp√©rience efficace pour ceux qui aiment se sentir au c≈ìur de l'action."
    },
    {
      title: "Heretic",
      category: "La r√©v√©lation",
      description: "Avec son badge HuntedByMovieHunt, Heretic est un thriller psychologique qui ne ressemble √† rien d'autre. Hugh Grant y livre une performance gla√ßante dans un huis clos oppressant o√π la foi et la raison s'affrontent."
    },
    {
      title: "1BR : The Apartment",
      category: "L'angoisse psychologique",
      description: "Un immeuble en apparence id√©al cache une communaut√© aux m√©thodes terrifiantes. Ce film explore les m√©canismes de manipulation et de contr√¥le avec une tension croissante."
    },
    {
      title: "Triangle",
      category: "Le myst√®re d√©stabilisant",
      description: "Un yacht, une temp√™te, un bateau fant√¥me‚Ä¶ et une boucle temporelle cauchemardesque. Triangle est un puzzle horrifique qui ne l√¢che jamais prise."
    },
    {
      title: "Vivarium",
      category: "L'√©tranget√© oppressante",
      description: "Un couple se retrouve pi√©g√© dans un lotissement surr√©aliste et sans issue. Vivarium joue sur l'absurde et l'angoisse existentielle avec une efficacit√© gla√ßante."
    },
    {
      title: "Barbarian",
      category: "La surprise horrifique",
      description: "Une maison Airbnb r√©serve bien plus que ce que l'on attend. Barbarian multiplie les rebondissements et les descentes dans l'horreur pure."
    },
    {
      title: "Blood Star",
      category: "L'horreur d√©cal√©e",
      description: "Un film d'horreur qui m√©lange humour noir et violence graphique. Blood Star propose une exp√©rience unique, √† la fois d√©rangeante et fascinante."
    },
    {
      title: "Vicious",
      category: "Film Bonus",
      description: "Un thriller horrifique qui joue avec vos peurs int√©rieures. Polly re√ßoit une myst√©rieuse bo√Æte accompagn√©e d'une consigne √©trange : y placer une chose dont elle a besoin, une chose qu'elle d√©teste et une chose qu'elle aime. Ce rituel se transforme vite en cauchemar o√π elle doit affronter les t√©n√®bres, non seulement autour d'elle, mais aussi en elle."
    }
  ],
  intro: {
    p1: "Halloween, c'est la nuit id√©ale pour frissonner devant un bon film d'horreur. Mais plut√¥t que de revoir toujours les m√™mes classiques, pourquoi ne pas plonger dans une s√©lection originale, m√™lant exp√©riences d√©rangeantes, thrillers psychologiques et d√©couvertes marquantes ?",
    p2: "Sur MovieHunt.fr, nous prenons le temps de visionner chaque film, de les noter selon nos crit√®res (r√©alisation, sc√©nario, jeu des acteurs, photographie, bande-son et impact √©motionnel) et de mettre en avant les v√©ritables p√©pites gr√¢ce au badge HuntedByMovieHunt.",
    p3: "Voici notre liste de films d'horreur √† voir pour Halloween 2025."
  },
  conclusion: {
    title: "Conclusion : quelle id√©e de film d'horreur pour Halloween 2025 ?",
    intro: "Cette ann√©e, notre s√©lection MovieHunt vous propose une palette vari√©e :",
    items: [
      "L'excellence d√©rangeante avec Funny Games US",
      "Le grand spectacle avec Destination Finale : Bloodlines",
      "Les r√©v√©lations audacieuses comme Heretic",
      "Les cauchemars psychologiques tels que 1BR ou Triangle",
      "Et des exp√©riences atypiques comme Vivarium ou Barbarian"
    ],
    outro1: "Autant d'id√©es de films √† voir pour Halloween qui transformeront votre soir√©e en exp√©rience inoubliable.",
    outro2: "Alors, pr√©parez vos pop-corn, baissez les lumi√®res‚Ä¶ et laissez la peur vous envelopper.",
    ctaButton: "D√©couvrez tous nos films d'horreur"
  },
  whatToWatch: {
    title: "Vous ne savez pas quel film regarder ce soir ?",
    text: "Au-del√† de l'horreur, d√©couvrez notre s√©lection vari√©e de p√©pites m√©connues pour tous les go√ªts : com√©dies noires, westerns surprenants, thrillers fascinants et bien plus encore. Chaque film est not√©, analys√© et recommand√© par MovieHunt.",
    link: "D√©couvrez notre guide \"Quel film regarder ce soir ?\" ‚Üí"
  },
  faq: {
    title: "FAQ ‚Äì Films d'horreur pour Halloween 2025",
    questions: [
      {
        q: "Quel est le film d'horreur le plus effrayant de cette s√©lection ?",
        a: "Sans h√©siter, Funny Games US, not√© 10/10 sur MovieHunt, est le film le plus marquant. Sa mise en sc√®ne implacable et son r√©alisme d√©rangeant en font une exp√©rience terrifiante, id√©ale pour Halloween."
      },
      {
        q: "Quels films originaux regarder pour Halloween 2025 ?",
        a: "Si vous voulez sortir des sentiers battus, optez pour Heretic (badge HuntedByMovieHunt) ou 1BR : The Apartment. Ces films ne sont pas de simples divertissements horrifiques : ils plongent dans des th√©matiques psychologiques et sociales qui laissent une trace durable."
      },
      {
        q: "Quelle est la meilleure id√©e de film √† voir entre amis pour Halloween ?",
        a: "Destination Finale : Bloodlines et Until Dawn sont parfaits √† plusieurs : spectaculaires, rythm√©s et bourr√©s de sc√®nes qui font sursauter. Ils garantissent une ambiance fun et effrayante."
      },
      {
        q: "Existe-t-il une liste de films d'horreur m√©connus √† d√©couvrir ?",
        a: "Oui ! Sur MovieHunt.fr, nous mettons en avant des films moins connus mais fascinants, comme Triangle, Vivarium ou encore Blood Star. Ces choix originaux sont parfaits pour surprendre vos invit√©s le soir d'Halloween."
      },
      {
        q: "O√π trouver des critiques d√©taill√©es de films d'horreur ?",
        a: "Toutes nos critiques de films d'horreur sont disponibles sur MovieHunt.fr. Chaque film est visionn√© en version originale et √©valu√© selon des crit√®res pr√©cis (r√©alisation, sc√©nario, jeu des acteurs, photographie, musique et impact √©motionnel)."
      }
    ]
  }
};

async function translateHalloweenContent() {
  console.log('üéÉ Traduction du contenu de la page Halloween avec DeepL...\n');

  const translations = {
    films: [],
    intro: {},
    conclusion: {},
    whatToWatch: {},
    faq: { questions: [] }
  };

  try {
    // Traduire les descriptions de films
    console.log('üìΩÔ∏è  Traduction des descriptions de films...');
    for (const film of frenchContent.films) {
      console.log(`   - ${film.title}...`);
      const translatedCategory = await translateText(film.category);
      const translatedDescription = await translateText(film.description);
      
      translations.films.push({
        title: film.title,
        category: translatedCategory,
        description: translatedDescription
      });
      
      // Pause pour respecter les limites de l'API
      await new Promise(resolve => setTimeout(resolve, 500));
    }

    // Traduire l'intro
    console.log('\nüìù Traduction de l\'introduction...');
    translations.intro.p1 = await translateText(frenchContent.intro.p1);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.intro.p2 = await translateText(frenchContent.intro.p2);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.intro.p3 = await translateText(frenchContent.intro.p3);

    // Traduire la conclusion
    console.log('\nüé¨ Traduction de la conclusion...');
    translations.conclusion.title = await translateText(frenchContent.conclusion.title);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.conclusion.intro = await translateText(frenchContent.conclusion.intro);
    await new Promise(resolve => setTimeout(resolve, 500));
    
    translations.conclusion.items = [];
    for (const item of frenchContent.conclusion.items) {
      const translated = await translateText(item);
      translations.conclusion.items.push(translated);
      await new Promise(resolve => setTimeout(resolve, 500));
    }
    
    translations.conclusion.outro1 = await translateText(frenchContent.conclusion.outro1);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.conclusion.outro2 = await translateText(frenchContent.conclusion.outro2);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.conclusion.ctaButton = await translateText(frenchContent.conclusion.ctaButton);

    // Traduire la section "Quel film regarder"
    console.log('\nüéØ Traduction de la section "Quel film regarder"...');
    translations.whatToWatch.title = await translateText(frenchContent.whatToWatch.title);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.whatToWatch.text = await translateText(frenchContent.whatToWatch.text);
    await new Promise(resolve => setTimeout(resolve, 500));
    translations.whatToWatch.link = await translateText(frenchContent.whatToWatch.link);

    // Traduire la FAQ
    console.log('\n‚ùì Traduction de la FAQ...');
    translations.faq.title = await translateText(frenchContent.faq.title);
    await new Promise(resolve => setTimeout(resolve, 500));
    
    for (const item of frenchContent.faq.questions) {
      console.log(`   - ${item.q.substring(0, 50)}...`);
      const translatedQ = await translateText(item.q);
      await new Promise(resolve => setTimeout(resolve, 500));
      const translatedA = await translateText(item.a);
      await new Promise(resolve => setTimeout(resolve, 500));
      
      translations.faq.questions.push({
        q: translatedQ,
        a: translatedA
      });
    }

    // Afficher les r√©sultats
    console.log('\n‚úÖ Traduction termin√©e !\n');
    console.log('üìã R√©sultats (√† copier dans messages/en.json) :\n');
    console.log(JSON.stringify(translations, null, 2));

    return translations;

  } catch (error) {
    console.error('‚ùå Erreur lors de la traduction:', error);
    throw error;
  }
}

// Ex√©cuter le script
translateHalloweenContent()
  .then(() => {
    console.log('\n‚ú® Script termin√© avec succ√®s !');
    process.exit(0);
  })
  .catch((error) => {
    console.error('\n‚ùå Erreur fatale:', error);
    process.exit(1);
  });
